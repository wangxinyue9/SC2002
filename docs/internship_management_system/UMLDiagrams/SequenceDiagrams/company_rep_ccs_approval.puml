@startuml
title Career Centre Staff â€“ Opportunity Approval Workflow

actor ":Career Centre Staff\n<<actor>>" as CCS
participant "oppList:InternshipOpportunityList\n<<boundary>>" as OppList
participant "state:UIState\n<<entity>>" as UIState
database "ds:DataStorage\n<<entity>>" as DataStorage
participant "ccsOpp:CCSOpportunityScreen\n<<boundary>>" as CCSOpp
entity "opp:InternshipOpportunity\n<<entity>>" as Opportunity

== Locate Pending Opportunity ==
CCS -> OppList: show(uiState)
activate OppList
OppList -> DataStorage: getInternshipOpportunities(filter=all/pending)
activate DataStorage
DataStorage --> OppList: opportunities list
deactivate DataStorage
CCS -> OppList: choose pending row
OppList -> UIState: setCurrentOpportunity(selected)
OppList --> CCSOpp: transition
deactivate OppList

== Review & Decision ==
activate CCSOpp
CCSOpp -> Opportunity: read status / metadata
alt status == PENDING
    CCSOpp -> CCS: display Approve / Reject options
    CCS -> CCSOpp: choose Approve
    CCSOpp -> Opportunity: setStatus(APPROVED)
    note right of CCSOpp
    Only APPROVED & visible opportunities propagate to
    student filters and can receive applications.
    end note
    else CCS chooses Reject
    CCSOpp -> Opportunity: setStatus(REJECTED)
else status already resolved
    CCSOpp -> CCS: show read-only view (view applications or back)
end
CCSOpp --> CCS: confirmation + navigation back to list
deactivate CCSOpp

@enduml
